/*basic modules************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import React, { useState, useEffect } from 'react'

/*redux************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import { connect } from 'react-redux'
import actions from '../redux/actions/index.js'

/*components************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import Layout from '../Components/Layout/index.js'

/*containers************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
import Header from '../Containers/Header/index.js'
import RegisterPage from '../Containers/RegisterPage/index.js'

/*main function************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
function Register(props) {

    /*hooks************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
    useEffect(() => { props.verifyAuthentication() }, [])




    if( typeof window !== 'undefined') {

        var [InitialInnerWidth, setInitialInnerWidth] = useState(window.innerWidth)

        if (window.innerWidth > 720) {
            return (
                <Layout>
                    
                    <Header
                        InitialInnerWidth={InitialInnerWidth}
                        setInitialInnerWidth={setInitialInnerWidth}
                        Desktop={true}
                        Mobile={false}
                        Default={true} />

                    <RegisterPage />

                </Layout>
            )
        }

        if (window.innerWidth <= 720) {
            return (
                <Layout>

                    <Header
                        InitialInnerWidth={InitialInnerWidth}
                        setInitialInnerWidth={setInitialInnerWidth}
                        Desktop={false}
                        Mobile={true}
                        Default={true} />

                    <RegisterPage />

                </Layout>
            )
        }

    }

    else {
        return (
            <></>
        )
    }
}

const mapStateToProps = (state, ownProps) => ({ ...state, ownProps })
export default connect(mapStateToProps, actions)(Register)